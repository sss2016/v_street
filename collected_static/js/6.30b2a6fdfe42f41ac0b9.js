webpackJsonp([6],{"4KkU":function(t,e){},"5oHi":function(t,e){},"9NvB":function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o("CKVb"),i=o("gpPJ"),s=o("RAwi"),a=o("IXui"),l=o("swb9"),r=o("o+C2"),u=o("JGLT"),c=o("Jp5S"),d=o("J/QH"),p=o("iVA8"),g=(c.a,n.a,i.a,l.a,p.default,s.a,a.a,r.a,u.a,d.a,{directives:{TransferDom:c.a},data:function(){return{guige:[],name:"",price:"",type:"",dec:"",goods_id:null,title1:"类型",list1:[],value1:[],downdelete:!1,deling:!1}},mounted:function(){this.goods_id=this.$route.query.goods_id,this.getTheGoodInfo(),this.getTypes()},methods:{getTheGoodInfo:function(){var t=this;this.$http.get("getGoodsItem?goods_id="+this.goods_id).then(function(e){console.log(e.data);var o=e.data[0].fields;t.guige=JSON.parse(o.standards),t.name=o.name,t.price=o.price,t.dec=o.describe,t.value1.push(o.type),console.log(o.type)},function(t){console.log("error")})},changes:function(t){console.log(t),this.$http.post("http://localhost:8000/updateItem",{goods_id:this.goods_id,type:this.value1[0]}).then(function(t){console.log("sucess")},function(t){console.log("error")})},getTypes:function(){var t=this;this.$http.get("http://localhost:8000/getGoodsTypes").then(function(e){t.list1=[t.querySetToArray(e.data)],console.log(t.list1)},function(t){console.log("error")})},querySetToArray:function(t){for(var e=[],o=0;o<t.length;o++)e.push({value:t[o].pk,name:t[o].fields.name});return e},deleteGoods:function(){var t=this;this.deling=!0,this.$http.get("http://localhost:8000/deleteGoods?goods_id="+this.goods_id).then(function(e){t.deling=!1,t.$router.replace({path:"goods"})},function(t){console.log("error")})}},components:{Group:n.a,Cell:i.a,CellBox:l.a,upload:p.default,XTextarea:s.a,XButton:a.a,PopupPicker:r.a,Confirm:u.a,Loading:d.a}}),h={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("upload",{attrs:{path:"/getGoodsImage?goods_id="+(t.$route.query?t.$route.query.goods_id:t.$route.params.goods_id),isAutoUpload:!0}}),t._v(" "),o("group",{staticClass:"myform"},[o("cell",{attrs:{title:"商品名称","is-link":"",link:{name:"alterName",query:{goods_id:this.goods_id}}}},[t._v("\n      "+t._s(t.name)+"\n    ")]),t._v(" "),o("cell",{attrs:{title:"商品价格","is-link":"",link:{name:"alterPrice",query:{goods_id:this.goods_id}}}},[t._v("\n      "+t._s(t.price)+"\n    ")]),t._v(" "),o("cell",{attrs:{title:"规格","is-link":"",link:{name:"standards",params:{type:1,goods_id:this.goods_id,treeData:t.guige}}}},[t._v("\n      已设置"+t._s(t.guige.length)+"个规格\n    ")]),t._v(" "),o("popup-picker",{attrs:{title:t.title1,data:t.list1,"show-name":"",columns:1,placeholder:"please select"},on:{"on-change":t.changes},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}}),t._v(" "),o("cell",{attrs:{title:"描述","is-link":"",link:{name:"alterDec",query:{goods_id:this.goods_id}}},model:{value:t.dec,callback:function(e){t.dec=e},expression:"dec"}})],1),t._v(" "),o("div",{staticClass:"picker-buttons"},[o("x-button",{attrs:{type:"warn"},nativeOn:{click:function(e){t.downdelete=!0}}},[t._v("删除该商品")])],1),t._v(" "),o("div",{directives:[{name:"transfer-dom",rawName:"v-transfer-dom"}]},[o("confirm",{attrs:{title:"操作提示"},on:{"on-confirm":t.deleteGoods},model:{value:t.downdelete,callback:function(e){t.downdelete=e},expression:"downdelete"}},[o("p",{staticStyle:{color:"red"}},[t._v("确定咩？")])])],1),t._v(" "),o("loading",{attrs:{show:t.deling,text:"删除中"}})],1)},staticRenderFns:[]};var m=o("C7Lr")(g,h,!1,function(t){o("mArI")},null,null);e.default=m.exports},"J/QH":function(t,e,o){"use strict";Boolean,String,String,String;var n={name:"loading",model:{prop:"show",event:"change"},props:{show:Boolean,text:String,position:String,transition:{type:String,default:"vux-mask"}},watch:{show:function(t){this.$emit("update:show",t)}}},i={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("transition",{attrs:{name:t.transition}},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"weui-loading_toast vux-loading",class:t.text?"":"vux-loading-no-text"},[o("div",{staticClass:"weui-mask_transparent"}),t._v(" "),o("div",{staticClass:"weui-toast",style:{position:t.position}},[o("i",{staticClass:"weui-loading weui-icon_toast"}),t._v(" "),t.text?o("p",{staticClass:"weui-toast__content"},[t._v(t._s(t.text||"加载中")),t._t("default")],2):t._e()])])])},staticRenderFns:[]};var s=o("C7Lr")(n,i,!1,function(t){o("4KkU")},null,null);e.a=s.exports},JGLT:function(t,e,o){"use strict";var n=o("jHHs"),i=(n.a,Boolean,Boolean,String,String,Boolean,String,String,String,String,Number,String,String,String,Boolean,Object,Boolean,String,Boolean,Boolean,{name:"confirm",components:{XDialog:n.a},props:{value:{type:Boolean,default:!1},showInput:{type:Boolean,default:!1},placeholder:{type:String,default:""},theme:{type:String,default:"ios"},hideOnBlur:{type:Boolean,default:!1},title:String,confirmText:String,cancelText:String,maskTransition:{type:String,default:"vux-fade"},maskZIndex:[Number,String],dialogTransition:{type:String,default:"vux-dialog"},content:String,closeOnConfirm:{type:Boolean,default:!0},inputAttrs:Object,showContent:{type:Boolean,default:!0},confirmType:{type:String,default:"primary"},showCancelButton:{type:Boolean,default:!0},showConfirmButton:{type:Boolean,default:!0}},created:function(){this.showValue=this.show,this.value&&(this.showValue=this.value)},watch:{value:function(t){this.showValue=t},showValue:function(t){var e=this;this.$emit("input",t),t&&(this.showInput&&(this.msg="",setTimeout(function(){e.$refs.input&&e.setInputFocus()},300)),this.$emit("on-show"))}},data:function(){return{msg:"",showValue:!1}},methods:{getInputAttrs:function(){return this.inputAttrs||{type:"text"}},setInputValue:function(t){this.msg=t},setInputFocus:function(t){t&&t.preventDefault(),this.$refs.input.focus()},_onConfirm:function(){this.showValue&&(this.closeOnConfirm&&(this.showValue=!1),this.$emit("on-confirm",this.msg))},_onCancel:function(){this.showValue&&(this.showValue=!1,this.$emit("on-cancel"))}}}),s={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"vux-confirm"},[o("x-dialog",{attrs:{"dialog-class":"android"===t.theme?"weui-dialog weui-skin_android":"weui-dialog","mask-transition":t.maskTransition,"dialog-transition":"android"===t.theme?"vux-fade":t.dialogTransition,"hide-on-blur":t.hideOnBlur,"mask-z-index":t.maskZIndex},on:{"on-hide":function(e){t.$emit("on-hide")}},model:{value:t.showValue,callback:function(e){t.showValue=e},expression:"showValue"}},[t.title?o("div",{staticClass:"weui-dialog__hd",class:{"with-no-content":!t.showContent}},[o("strong",{staticClass:"weui-dialog__title"},[t._v(t._s(t.title))])]):t._e(),t._v(" "),t.showContent?[t.showInput?o("div",{staticClass:"vux-prompt"},["checkbox"===t.getInputAttrs().type?o("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],ref:"input",staticClass:"vux-prompt-msgbox",attrs:{placeholder:t.placeholder,type:"checkbox"},domProps:{checked:Array.isArray(t.msg)?t._i(t.msg,null)>-1:t.msg},on:{touchend:t.setInputFocus,change:function(e){var o=t.msg,n=e.target,i=!!n.checked;if(Array.isArray(o)){var s=t._i(o,null);n.checked?s<0&&(t.msg=o.concat([null])):s>-1&&(t.msg=o.slice(0,s).concat(o.slice(s+1)))}else t.msg=i}}},"input",t.getInputAttrs(),!1)):"radio"===t.getInputAttrs().type?o("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],ref:"input",staticClass:"vux-prompt-msgbox",attrs:{placeholder:t.placeholder,type:"radio"},domProps:{checked:t._q(t.msg,null)},on:{touchend:t.setInputFocus,change:function(e){t.msg=null}}},"input",t.getInputAttrs(),!1)):o("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.msg,expression:"msg"}],ref:"input",staticClass:"vux-prompt-msgbox",attrs:{placeholder:t.placeholder,type:t.getInputAttrs().type},domProps:{value:t.msg},on:{touchend:t.setInputFocus,input:function(e){e.target.composing||(t.msg=e.target.value)}}},"input",t.getInputAttrs(),!1))]):o("div",{staticClass:"weui-dialog__bd"},[t._t("default",[o("div",{domProps:{innerHTML:t._s(t.content)}})])],2)]:t._e(),t._v(" "),o("div",{staticClass:"weui-dialog__ft"},[t.showCancelButton?o("a",{staticClass:"weui-dialog__btn weui-dialog__btn_default",attrs:{href:"javascript:;"},on:{click:t._onCancel}},[t._v(t._s(t.cancelText||"取消"))]):t._e(),t._v(" "),t.showConfirmButton?o("a",{staticClass:"weui-dialog__btn",class:"weui-dialog__btn_"+t.confirmType,attrs:{href:"javascript:;"},on:{click:t._onConfirm}},[t._v(t._s(t.confirmText||"确定"))]):t._e()])],2)],1)},staticRenderFns:[]};var a=o("C7Lr")(i,s,!1,function(t){o("5oHi")},null,null);e.a=a.exports},mArI:function(t,e){}});
//# sourceMappingURL=6.30b2a6fdfe42f41ac0b9.js.map